- if Favorite.find_by(user_id: current_user&.id, product_id: product&.id)
  = link_to "/products/#{product.id}/favorites", class: "fav",id: "favorite-#{product.id}", method: :delete, remote: true do
    = icon 'fas', 'heart'
    いいね!
    = product.favorites.count
- else
  = link_to "/products/#{product.id}/favorites", class: "unfav", id: "favorite-#{product.id}", method: :post, remote: true do
    = icon 'far', 'heart'
    いいね!
    = product.favorites.count